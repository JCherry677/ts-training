{% load nt_filters %}

<!-- People -->
<div class="row" id="peopleList">
    {% for person in people %}
        {% if form is None %}
            <div class="col-xl-3 col-lg-4 col-6 button-people person-{{ person.status }} {% if person.committee == True %}person-committee{% endif %}">
                <a href="{% url 'ts_training:ntPerson' person.slug %}" class="btn btn-primary btn-block">
                    <h6 class="lead"><i class="fa fa-fw {% if person.status == 'GRAD' %}fa-graduation-cap{% elif person.committee == True %}fa-committee fa-star{% else %}fa-user{% endif %} float-md-left mt-md-1"></i>&nbsp;{{ person }}</h6>
                </a>
            </div>
        {% else %}
            <div class="col-xl-3 col-lg-4 col-md-6 col-12 button-people person-{{ person.status }} {% if person.committee == True %}person-committee{% endif %}">
                {% with form.signed_up|return_item:forloop.counter0 as trainee_form %}
                <label class="label-block"><!-- So the whole button activates the checkbox, and is full-width on small viewports -->
                    <div class="btn btn-primary btn-block button-checkbox btn-sm">
                        <h5>
                            <div class="row">
                                <div class="col">
                                    <i class="fa fa-fw {% if person.status == 'GRAD' %}fa-graduation-cap{% elif person.committee == True %}fa-committee fa-star{% else %}fa-user{% endif %} float-left mt-1"></i>&nbsp;
                                    <div class="d-inline-block w-50 lead small person-checkbox"><span class="d-none">{{ trainee_form.tag }}</span>{{ person }}&nbsp;</div>
                                    <i class="fa fa-fw fa-circle-o button-checkbox-icon float-right mt-1"></i>
                                </div>
                            </div>
                        </h5>
                    </div>
                </label>
                {% endwith %}
            </div>
        {% endif %}
    {% endfor %}
</div>